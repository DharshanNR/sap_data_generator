# Data Dictionary: SAP Procurement & Material Data

This document provides a detailed description of key fields from selected SAP tables related to procurement, materials, and vendor master data.

**Last Updated:** 2023-10-26
**Version:** 1.0
**Source:** SAP ECC/S/4HANA System
**Contact:** [Your Name/Team, e.g., SAP Data Team]

---

## Table of Contents

1.  [Dataset Overview](#1-dataset-overview)
2.  [Table Descriptions](#2-table-descriptions)
    *   [LFA1 - Vendor Master (General Section)](#lfa1---vendor-master-general-section)
    *   [MARA - General Material Data](#mara---general-material-data)
    *   [EKKO - Purchasing Document Header](#ekko---purchasing-document-header)
    *   [EKPO - Purchasing Document Item](#ekpo---purchasing-document-item)
    *   [EKBE - History per Purchasing Document](#ekbe---history-per-purchasing-document)
    *   [vendor_contract - Custom Vendor Contract Data](#vendor_contract---custom-vendor-contract-data)
3.  [Key Relationships](#3-key-relationships)
4.  [Known Issues / Caveats](#4-known-issues--caveats)
5.  [Change Log](#5-change-log)

---

## 1. Dataset Overview

This data dictionary focuses on core SAP tables used in procurement and material management processes. It provides insights into vendor information, material master data, purchasing documents (purchase orders, contracts), and their historical movements.

*   **Purpose:** To facilitate understanding and analysis of procurement activities, vendor performance, and material inventory.
*   **Scope:** Covers master data for vendors and materials, and transactional data for purchasing documents and their follow-on activities.
*   **Granularity:** Each table represents a specific SAP entity (e.g., a vendor, a material, a purchase order header, a purchase order item, a goods movement).
*   **Key Identifiers:** Each table has its own primary key(s) as detailed below.
*   **System:** SAP ECC 6.0 / S/4HANA (specific version may vary field availability).

---

## 2. Table Descriptions

---

### `LFA1` - Vendor Master (General Section)

*   **Description:** Contains general data for all vendors (suppliers) in the SAP system. This data is valid for all organizational levels.
*   **Primary Key:** `LIFNR`
*   **Key Fields:**

    *   **`LIFNR`**
        *   **Description:** Vendor Number
        *   **Data Type:** `CHAR(10)`
        *   **Constraints/Format:** Unique identifier for a vendor. Cannot be `NULL`.
        *   **Example Values:** `'100000'`, `'V000123'`
        *   **Notes:** Leading zeros are often suppressed in display but are part of the actual key.
    *   **`NAME1`**
        *   **Description:** Vendor Name (Name 1)
        *   **Data Type:** `CHAR(35)`
        *   **Constraints/Format:** Cannot be `NULL`.
        *   **Example Values:** `'Acme Corp'`, `'Global Suppliers Inc.'`
    *   **`ORT01`**
        *   **Description:** City
        *   **Data Type:** `CHAR(35)`
        *   **Example Values:** `'New York'`, `'Berlin'`
    *   **`LAND1`**
        *   **Description:** Country Key
        *   **Data Type:** `CHAR(3)`
        *   **Example Values:** `'US'`, `'DE'`, `'GB'`
    *   **`KTOKK`**
        *   **Description:** Vendor Account Group
        *   **Data Type:** `CHAR(4)`
        *   **Example Values:** `'0001'` (Goods Supplier), `'0002'` (Service Provider)
        *   **Notes:** Defines the number range and field selection for vendor master records.

---

### `MARA` - General Material Data

*   **Description:** Contains general data for all materials in the SAP system. This data is valid for all organizational levels (plant, storage location, etc.).
*   **Primary Key:** `MATNR`
*   **Key Fields:**

    *   **`MATNR`**
        *   **Description:** Material Number
        *   **Data Type:** `CHAR(18)`
        *   **Constraints/Format:** Unique identifier for a material. Cannot be `NULL`.
        *   **Example Values:** `'100-100'`, `'FG-PROD-001'`, `'RAW-MAT-A'`
        *   **Notes:** Can be internal (system-assigned) or external (user-defined).
    *   **`MTART`**
        *   **Description:** Material Type
        *   **Data Type:** `CHAR(4)`
        *   **Example Values:** `'FERT'` (Finished Product), `'HALB'` (Semi-finished Product), `'ROH'` (Raw Material)
        *   **Notes:** Controls material attributes like number range, screen sequence, and field selection.
    *   **`MEINS`**
        *   **Description:** Base Unit of Measure
        *   **Data Type:** `UNIT(3)`
        *   **Example Values:** `'PC'` (Piece), `'KG'` (Kilogram), `'EA'` (Each)
    *   **`MATKL`**
        *   **Description:** Material Group
        *   **Data Type:** `CHAR(9)`
        *   **Example Values:** `'00101'` (Electronics), `'00205'` (Office Supplies)
        *   **Notes:** Used for grouping materials with similar characteristics.
    *   **`BRGEW`**
        *   **Description:** Gross Weight
        *   **Data Type:** `QUAN(13)`
        *   **Example Values:** `10.5`, `1000.0`
    *   **`GEWEI`**
        *   **Description:** Weight Unit
        *   **Data Type:** `UNIT(3)`
        *   **Example Values:** `'KG'`, `'LB'`

---

### `EKKO` - Purchasing Document Header

*   **Description:** Contains header-level data for all purchasing documents (e.g., Purchase Orders, Contracts, Scheduling Agreements, RFQs).
*   **Primary Key:** `EBELN`
*   **Key Fields:**

    *   **`EBELN`**
        *   **Description:** Purchasing Document Number
        *   **Data Type:** `CHAR(10)`
        *   **Constraints/Format:** Unique identifier for a purchasing document. Cannot be `NULL`.
        *   **Example Values:** `'4500000001'`, `'6000000005'`
    *   **`BSTYP`**
        *   **Description:** Purchasing Document Category
        *   **Data Type:** `CHAR(1)`
        *   **Categorical Values:**
            *   `'A'`: Request for quotation
            *   `'B'`: Purchase requisition
            *   `'F'`: Purchase order
            *   `'K'`: Contract
            *   `'L'`: Scheduling agreement
        *   **Example Values:** `'F'`, `'K'`
    *   **`LIFNR`**
        *   **Description:** Vendor Number
        *   **Data Type:** `CHAR(10)`
        *   **Constraints/Format:** Foreign key to `LFA1-LIFNR`. Cannot be `NULL`.
        *   **Example Values:** `'100000'`, `'V000123'`
    *   **`AEDAT`**
        *   **Description:** Date of Document Creation
        *   **Data Type:** `DATS(8)` (YYYYMMDD)
        *   **Example Values:** `'20231025'`, `'20221201'`
    *   **`EKORG`**
        *   **Description:** Purchasing Organization
        *   **Data Type:** `CHAR(4)`
        *   **Example Values:** `'1000'`, `'US01'`
    *   **`WAERS`**
        *   **Description:** Currency Key
        *   **Data Type:** `CUKY(5)`
        *   **Example Values:** `'USD'`, `'EUR'`, `'GBP'`

---

### `EKPO` - Purchasing Document Item

*   **Description:** Contains item-level data for all purchasing documents. Each item belongs to a header in `EKKO`.
*   **Primary Key:** `EBELN`, `EBELP`
*   **Key Fields:**

    *   **`EBELN`**
        *   **Description:** Purchasing Document Number
        *   **Data Type:** `CHAR(10)`
        *   **Constraints/Format:** Foreign key to `EKKO-EBELN`. Cannot be `NULL`.
        *   **Example Values:** `'4500000001'`
    *   **`EBELP`**
        *   **Description:** Item Number of Purchasing Document
        *   **Data Type:** `NUMC(5)`
        *   **Constraints/Format:** Unique within a given `EBELN`. Cannot be `NULL`.
        *   **Example Values:** `'00010'`, `'00020'`
    *   **`MATNR`**
        *   **Description:** Material Number
        *   **Data Type:** `CHAR(18)`
        *   **Constraints/Format:** Foreign key to `MARA-MATNR`. Can be `NULL` for service items or text items.
        *   **Example Values:** `'100-100'`, `'FG-PROD-001'`
    *   **`MENGE`**
        *   **Description:** Purchase Order Quantity
        *   **Data Type:** `QUAN(13)`
        *   **Example Values:** `10.0`, `500.0`
    *   **`MEINS`**
        *   **Description:** Purchase Order Unit of Measure
        *   **Data Type:** `UNIT(3)`
        *   **Example Values:** `'PC'`, `'KG'`
    *   **`NETPR`**
        *   **Description:** Net Price
        *   **Data Type:** `CURR(11)`
        *   **Example Values:** `10.50`, `99.99`
    *   **`PEINH`**
        *   **Description:** Price Unit (e.g., price per 100 PC)
        *   **Data Type:** `DEC(5)`
        *   **Example Values:** `1`, `100`
    *   **`WERKS`**
        *   **Description:** Plant
        *   **Data Type:** `CHAR(4)`
        *   **Example Values:** `'1000'`, `'2000'`

---

### `EKBE` - History per Purchasing Document

*   **Description:** Contains the history of a purchasing document item, including goods receipts, invoice receipts, and other movements.
*   **Primary Key:** `EBELN`, `EBELP`, `ZEKKN`, `VGABE`, `GJAHR`, `BELN`, `BUZEI`
*   **Key Fields:**

    *   **`EBELN`**
        *   **Description:** Purchasing Document Number
        *   **Data Type:** `CHAR(10)`
        *   **Constraints/Format:** Foreign key to `EKKO-EBELN` and `EKPO-EBELN`.
    *   **`EBELP`**
        *   **Description:** Item Number of Purchasing Document
        *   **Data Type:** `NUMC(5)`
        *   **Constraints/Format:** Foreign key to `EKPO-EBELP`.
    *   **`VGABE`**
        *   **Description:** Transaction/Event Type
        *   **Data Type:** `CHAR(1)`
        *   **Categorical Values:**
            *   `'1'`: Goods Receipt
            *   `'2'`: Invoice Receipt
            *   `'3'`: Subsequent Debit/Credit
            *   `'4'`: Delivery (for returns)
            *   `'5'`: Service Entry Sheet
        *   **Example Values:** `'1'`, `'2'`
    *   **`GJAHR`**
        *   **Description:** Fiscal Year of Document
        *   **Data Type:** `NUMC(4)`
        *   **Example Values:** `'2023'`, `'2022'`
    *   **`BELN`**
        *   **Description:** Document Number (e.g., Material Document, Invoice Document)
        *   **Data Type:** `CHAR(10)`
        *   **Notes:** This is the number of the follow-on document (e.g., `MKPF-MBLNR` for goods receipt, `RSEG-BELNR` for invoice receipt).
    *   **`BUZEI`**
        *   **Description:** Item Number of Document
        *   **Data Type:** `NUMC(3)`
    *   **`CPUDT`**
        *   **Description:** Date of Entry
        *   **Data Type:** `DATS(8)` (YYYYMMDD)
        *   **Example Values:** `'20231026'`
    *   **`MENGE`**
        *   **Description:** Quantity
        *   **Data Type:** `QUAN(13)`
        *   **Notes:** Quantity moved (e.g., received, invoiced).
    *   **`WRBTR`**
        *   **Description:** Amount in Document Currency
        *   **Data Type:** `CURR(13)`
        *   **Notes:** Value of the movement.

---

### `vendor_contract` - Custom Vendor Contract Data

*   **Description:** A custom table or view that consolidates key information about vendor contracts, potentially combining data from `EKKO` (for contract headers), `EKPO` (for contract items), and `LFA1` (for vendor details).
*   **Primary Key:** `contract_id`
*   **Key Fields:**

    *   **`contract_id`**
        *   **Description:** Unique identifier for the vendor contract.
        *   **Data Type:** `CHAR(10)`
        *   **Constraints/Format:** Unique primary key. Corresponds to `EKKO-EBELN` where `BSTYP = 'K'`.
        *   **Example Values:** `'6000000001'`, `'6000000002'`
    *   **`vendor_id`**
        *   **Description:** Vendor Number associated with the contract.
        *   **Data Type:** `CHAR(10)`
        *   **Constraints/Format:** Foreign key to `LFA1-LIFNR`. Cannot be `NULL`.
        *   **Example Values:** `'100000'`, `'V000123'`
    *   **`vendor_name`**
        *   **Description:** Name of the vendor.
        *   **Data Type:** `CHAR(35)`
        *   **Notes:** Derived from `LFA1-NAME1`.
    *   **`contract_type`**
        *   **Description:** Type of contract (e.g., Quantity Contract, Value Contract).
        *   **Data Type:** `CHAR(2)`
        *   **Categorical Values:**
            *   `'WK'`: Value Contract
            *   `'MK'`: Quantity Contract
        *   **Notes:** Corresponds to `EKKO-BSART` (Document Type) for contracts.
    *   **`start_date`**
        *   **Description:** Start date of the contract validity period.
        *   **Data Type:** `DATS(8)` (YYYYMMDD)
        *   **Notes:** Corresponds to `EKKO-KDATB`.
    *   **`end_date`**
        *   **Description:** End date of the contract validity period.
        *   **Data Type:** `DATS(8)` (YYYYMMDD)
        *   **Notes:** Corresponds to `EKKO-KDATE`.
    *   **`target_value`**
        *   **Description:** The total target value of the contract.
        *   **Data Type:** `CURR(13)`
        *   **Notes:** Corresponds to `EKKO-KLABS`.
    *   **`currency`**
        *   **Description:** Currency of the contract.
        *   **Data Type:** `CUKY(5)`
        *   **Notes:** Corresponds to `EKKO-WAERS`.

---

## 3. Key Relationships

Understanding these relationships is crucial for joining data across tables.

*   **`LFA1` (Vendor Master) <-> `EKKO` (PO Header)**
    *   `LFA1.LIFNR` = `EKKO.LIFNR` (One vendor can have many purchasing documents)
*   **`MARA` (Material Master) <-> `EKPO` (PO Item)**
    *   `MARA.MATNR` = `EKPO.MATNR` (One material can appear in many PO items)
*   **`EKKO` (PO Header) <-> `EKPO` (PO Item)**
    *   `EKKO.EBELN` = `EKPO.EBELN` (One PO header can have many PO items)
*   **`EKPO` (PO Item) <-> `EKBE` (PO History)**
    *   `EKPO.EBELN` = `EKBE.EBELN`
    *   `EKPO.EBELP` = `EKBE.EBELP` (One PO item can have many history records - goods receipts, invoice receipts, etc.)
*   **`vendor_contract` (Custom) <-> `LFA1` (Vendor Master)**
    *   `vendor_contract.vendor_id` = `LFA1.LIFNR`
*   **`vendor_contract` (Custom) <-> `EKKO` (PO Header - for contracts)**
    *   `vendor_contract.contract_id` = `EKKO.EBELN` (where `EKKO.BSTYP = 'K'`)

---

## 4. Known Issues / Caveats

*   **SAP Field Names:** SAP field names are often cryptic (e.g., `LIFNR`, `EBELN`). Always refer to this dictionary for their meaning.
*   **Data Volume:** SAP tables can be extremely large. Queries should be optimized and filtered appropriately.
*   **Customizations:** This dictionary describes standard SAP fields. Your specific SAP implementation may have custom fields (starting with `Z` or `Y`) or modified standard behaviors.
*   **Time Zones:** Dates and times in SAP can be stored in various time zones (system, user, plant). Always verify the time zone context if precision is critical.
*   **Leading Zeros:** Numeric keys (like `LIFNR`, `MATNR`, `EBELN`) often have leading zeros in the database but might be displayed without them in SAP GUI. Ensure consistency when joining or filtering.
*   **`vendor_contract`:** This is a custom table/view. Its exact definition and derivation logic should be confirmed with the SAP technical team.

---

## 5. Change Log

*   **2023-10-26 - Version 1.0:**
    *   Initial creation of the data dictionary for SAP Procurement & Material Data.
    *   Included tables: `LFA1`, `MARA`, `EKKO`, `EKPO`, `EKBE`, `vendor_contract`.